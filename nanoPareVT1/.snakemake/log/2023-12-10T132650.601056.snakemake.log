Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 48
Rules claiming more threads will be scaled down.
Job stats:
job                   count
------------------  -------
Gstar_collapse            1
Gstar_endtime             1
Gstar_starttime           1
all                       1
endCutGstar_sh            2
endCutNormalize_sh        1
endCutStep1WIN1_sh        1
endCutStep1WIN2_sh        1
endCutStep2_sh            1
total                    10

Select jobs to execute...

[Sun Dec 10 13:26:52 2023]
rule Gstar_starttime:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutShuffleDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt
    jobid: 15
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt
    resources: tmpdir=/tmp


		export st=`date +%s`
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt
		
[Sun Dec 10 13:26:52 2023]
Finished job 15.
1 of 10 steps (10%) done
Select jobs to execute...

[Sun Dec 10 13:26:52 2023]
rule endCutGstar_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutShuffleDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt, /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew/anno.mir.tas.1.shuffled.fa
    output: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.1.shuffled.pred.sites.bed
    jobid: 14
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt; Set of input files has changed since last execution
    wildcards: miRShuffled=anno.mir.tas.1.shuffled
    threads: 48
    resources: tmpdir=/tmp


		mkdir -p /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.1.shuffled

		#run GSTAr
		perl /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/GSTAr.pl -t -a /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew/anno.mir.tas.1.shuffled.fa /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/transcriptome.fasta > /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.1.shuffled.GSTAr

		rm -r /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.1.shuffled

		awk 'NR > 8' /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.1.shuffled.GSTAr | awk -v OFS='	' '{if ($9 <= 6.0) print $2,$5-1,$5,$1,$9}' | sort -k1,1 -k2,2n | awk -v OFS='	' '{split($4,a,"_shuffled"); print $1,$2,$3,a[1],$5}' > /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.1.shuffled.pred.sites.bed
		
		
[Sun Dec 10 13:40:52 2023]
Finished job 14.
2 of 10 steps (20%) done
Select jobs to execute...

[Sun Dec 10 13:40:52 2023]
rule endCutGstar_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutShuffleDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt, /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew/anno.mir.tas.0.shuffled.fa
    output: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.0.shuffled.pred.sites.bed
    jobid: 16
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarStartTimeDone.txt; Set of input files has changed since last execution
    wildcards: miRShuffled=anno.mir.tas.0.shuffled
    threads: 48
    resources: tmpdir=/tmp


		mkdir -p /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.0.shuffled

		#run GSTAr
		perl /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/GSTAr.pl -t -a /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew/anno.mir.tas.0.shuffled.fa /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/transcriptome.fasta > /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.0.shuffled.GSTAr

		rm -r /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.0.shuffled

		awk 'NR > 8' /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake/anno.mir.tas.0.shuffled.GSTAr | awk -v OFS='	' '{if ($9 <= 6.0) print $2,$5-1,$5,$1,$9}' | sort -k1,1 -k2,2n | awk -v OFS='	' '{split($4,a,"_shuffled"); print $1,$2,$3,a[1],$5}' > /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.0.shuffled.pred.sites.bed
		
		
[Sun Dec 10 13:54:28 2023]
Finished job 16.
3 of 10 steps (30%) done
Select jobs to execute...

[Sun Dec 10 13:54:28 2023]
rule Gstar_collapse:
    input: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.1.shuffled.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.0.shuffled.pred.sites.bed
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarCollapseDone.txt
    jobid: 6
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarCollapseDone.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.1.shuffled.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked/anno.mir.tas.0.shuffled.pred.sites.bed
    resources: tmpdir=/tmp


		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarCollapseDone.txt
		
[Sun Dec 10 13:54:28 2023]
Finished job 6.
4 of 10 steps (40%) done
Select jobs to execute...

[Sun Dec 10 13:54:28 2023]
rule Gstar_endtime:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarCollapseDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarDone.txt
    jobid: 5
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarDone.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarCollapseDone.txt
    resources: tmpdir=/tmp


		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_GSTAR_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo 'nanoPARE_GSTAr complete!'
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarDone.txt
		
[Sun Dec 10 13:54:28 2023]
Finished job 5.
5 of 10 steps (50%) done
Select jobs to execute...

[Sun Dec 10 13:54:28 2023]
rule endCutNormalize_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endMaskDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutNormDone.txt
    jobid: 4
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutNormDone.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutGstarDone.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		
		bash runEndCutNormalizeBash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/nanoPARE_EndCut.step1_v02_normalize.sh /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_NORMALIZE_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutNormDone.txt
		
[Sun Dec 10 13:54:28 2023]
Finished job 4.
6 of 10 steps (60%) done
Select jobs to execute...

[Sun Dec 10 13:54:28 2023]
rule endCutStep1WIN1_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutNormDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN1Done.txt
    jobid: 3
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN1Done.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutNormDone.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		bash runEndCutStep1Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/nanoPARE_EndCut.step1_v02.sh /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData 20 transcript_bedgraph_capmasked transcript.capmasked /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP1_WIN1_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN1Done.txt
		
[Sun Dec 10 13:54:29 2023]
Finished job 3.
7 of 10 steps (70%) done
Select jobs to execute...

[Sun Dec 10 13:54:29 2023]
rule endCutStep1WIN2_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN1Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    jobid: 2
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN1Done.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		bash runEndCutStep1Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/nanoPARE_EndCut.step1_v02.sh /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData 50 transcript_bedgraph_capmasked transcript.capmasked /share/quonlab/workspaces/tmathieu/meyersData/GSTArSnakemake /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirGSTArNew
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP1_WIN2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
		
[Sun Dec 10 13:54:29 2023]
Finished job 2.
8 of 10 steps (80%) done
Select jobs to execute...

[Sun Dec 10 13:54:29 2023]
rule endCutStep2_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    jobid: 1
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
[Sun Dec 10 13:54:39 2023]
Error in rule endCutStep2_sh:
    jobid: 1
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    shell:
        
		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Trying to restart job 1.
Select jobs to execute...

[Sun Dec 10 13:54:39 2023]
rule endCutStep2_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    jobid: 1
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
[Sun Dec 10 13:54:49 2023]
Error in rule endCutStep2_sh:
    jobid: 1
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    shell:
        
		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Trying to restart job 1.
Select jobs to execute...

[Sun Dec 10 13:54:49 2023]
rule endCutStep2_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    jobid: 1
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    threads: 48
    resources: tmpdir=/tmp


		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
[Sun Dec 10 13:54:58 2023]
Error in rule endCutStep2_sh:
    jobid: 1
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep1WIN2Done.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
    shell:
        
		st=`date +%s`
		bash runEndCutStep2Bash.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/scripts/EndCut_step2.v03.git.R /share/quonlab/workspaces/tmathieu/meyersData/reference1smg.table /share/quonlab/workspaces/tmathieu/meyersData transcript_bedgraph_capmasked transcript.capmasked 2 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/EndCut.pipeline/resources
		et=`date +%s`
		rt=$((et-st))
		echo "//////////ENDCUT_STEP2_DONE ($rt s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimegstar.log
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutStep2Done.txt
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-10T132650.601056.snakemake.log
