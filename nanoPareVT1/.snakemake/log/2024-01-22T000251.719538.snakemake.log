Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job stats:
job                   count
------------------  -------
Sparta_collapse           1
Sparta_endtime            1
all                       1
endCutNormalize_sh        1
endCutSparta_sh        1000
endCutStep1WIN1_sh        1
endCutStep1WIN2_sh        1
endCutStep2_sh            1
total                  1007

Select jobs to execute...

[Mon Jan 22 00:02:56 2024]
rule endCutSparta_sh:
    input: /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endCutShuffleSpartaDone.txt, /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endCutSpartaStartTimeDone.txt, /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endMaskSpartaDone.txt, /home/ec2-user/meyersData/shuffleDirSparta_1/anno.mir.tas.542.shuffled.fa
    output: /home/ec2-user/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.542.shuffled.pred.sites.bed
    jobid: 558
    reason: Code has changed since last execution
    wildcards: miRShuffled=anno.mir.tas.542.shuffled
    threads: 2
    resources: tmpdir=/tmp

[Mon Jan 22 00:03:06 2024]
Error in rule endCutSparta_sh:
    jobid: 558
    input: /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endCutShuffleSpartaDone.txt, /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endCutSpartaStartTimeDone.txt, /home/ec2-user/nanoPAREUpdate/nanoPareVT1/endMaskSpartaDone.txt, /home/ec2-user/meyersData/shuffleDirSparta_1/anno.mir.tas.542.shuffled.fa
    output: /home/ec2-user/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.542.shuffled.pred.sites.bed
    shell:
        
		#execution of miRferno from the sPARTA program
		python3 /home/ec2-user/nanoPAREUpdate/sPARTA/sPARTA.py -genomeFile /home/ec2-user/nanoPAREUpdate/nanoPARE/resources/genome.fasta -annoType GFF -annoFile /home/ec2-user/nanoPAREUpdate/nanoPARE/resources/annotation.gff -genomeFeature 0 -miRNAFile /home/ec2-user/meyersData/shuffleDirSparta_1/anno.mir.tas.542.shuffled.fa -tarPred H -tarScore S --map2DD

		awk 'NR > 1' predicted/All.targs.parsed.csv | awk -F "," '{print $2,$3,$1,$6}' | awk -F " " '{split($2,a,"-"); print $1,a[1],a[2],$3,$4}' | sort -k1,1 -k2,2n | awk -F ' ' -v OFS="	" '{split($4,a,"_shuffled"); print $1,$2,$3,a[1],$5}' > /home/ec2-user/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.542.shuffled.pred.sites.bed
		rm /home/ec2-user/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.542.shuffled.fa_clean*
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job endCutSparta_sh since they might be corrupted:
/home/ec2-user/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.542.shuffled.pred.sites.bed
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-01-22T000251.719538.snakemake.log
