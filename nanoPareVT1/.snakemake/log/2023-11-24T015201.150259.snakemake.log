Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 12
Rules claiming more threads will be scaled down.
Job stats:
job            count
-----------  -------
all                1
endClass_sh        1
endGraph_sh        1
endMap_sh          1
endMask_sh         1
setup_sh           1
total              6

Select jobs to execute...

[Fri Nov 24 01:52:04 2023]
rule setup_sh:
    input: /share/quonlab/workspaces/tmathieu/meyersData/FASTQ
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/setupDone.txt
    jobid: 5
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/setupDone.txt
    threads: 12
    resources: tmpdir=/tmp


			python3 /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/python/createRefTable.py /share/quonlab/workspaces/tmathieu/meyersData/FASTQ /share/quonlab/workspaces/tmathieu/meyersData/reference.table SE nextera
			bash /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/nanoPARE_setup.sh -R /share/quonlab/workspaces/tmathieu/meyersData/reference.table -G /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta -A /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/annotation.gff --ram 30 --cpus 12 --gtf_gene_tag gene_id --gtf_transcript_tag transcript_id
			echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/setupDone.txt
		
[Fri Nov 24 01:52:08 2023]
Finished job 5.
1 of 6 steps (17%) done
Select jobs to execute...

[Fri Nov 24 01:52:08 2023]
rule endMap_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/setupDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMapDone.txt
    jobid: 4
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/setupDone.txt; Code has changed since last execution; Params have changed since last execution
    threads: 12
    resources: tmpdir=/tmp


			total_lines=$(cat /share/quonlab/workspaces/tmathieu/meyersData/reference.table | wc -l)
			line=1
			while [ $line -le $total_lines ]
			do 
				bash /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/endMap.sh -L $line -R /share/quonlab/workspaces/tmathieu/meyersData/reference.table -G /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta -A /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/annotation.gff --ram 30 --cpus 12 --icomp 0
				let line++
			done
			echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMapDone.txt
		
[Fri Nov 24 01:56:18 2023]
Finished job 4.
2 of 6 steps (33%) done
Select jobs to execute...

[Fri Nov 24 01:56:18 2023]
rule endGraph_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMapDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endGraphDone.txt
    jobid: 3
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMapDone.txt
    threads: 12
    resources: tmpdir=/tmp


		bash endGraphBash.sh /share/quonlab/workspaces/tmathieu/meyersData/reference.table /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/endGraph.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/annotation.gff 30 12 laplace 15 200
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endGraphDone.txt
		
[Fri Nov 24 01:57:20 2023]
Finished job 3.
3 of 6 steps (50%) done
Select jobs to execute...

[Fri Nov 24 01:57:20 2023]
rule endClass_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endGraphDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endClassDone.txt
    jobid: 2
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endGraphDone.txt
    threads: 12
    resources: tmpdir=/tmp


		bash getSampleTypesBash.sh /share/quonlab/workspaces/tmathieu/meyersData/reference.table /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/endClass.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/annotation.gff 12 0.1 500
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endClassDone.txt
		
[Fri Nov 24 01:57:28 2023]
Finished job 2.
4 of 6 steps (67%) done
Select jobs to execute...

[Fri Nov 24 01:57:28 2023]
rule endMask_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endClassDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMaskDone.txt
    jobid: 1
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMaskDone.txt; Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endClassDone.txt
    threads: 12
    resources: tmpdir=/tmp


		bash EndMaskBash.sh /share/quonlab/workspaces/tmathieu/meyersData/reference.table /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/endMask.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta 12 sample_type
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMaskDone.txt
		
[Fri Nov 24 01:57:28 2023]
Error in rule endMask_sh:
    jobid: 1
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endClassDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMaskDone.txt
    shell:
        
		bash EndMaskBash.sh /share/quonlab/workspaces/tmathieu/meyersData/reference.table /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/endMask.sh /share/quonlab/workspaces/tmathieu/meyers/nanoPARE/resources/genome.fasta 12 sample_type
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPareVT1/endMaskDone.txt
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-11-24T015201.150259.snakemake.log
