Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 48
Rules claiming more threads will be scaled down.
Job stats:
job                count
---------------  -------
Sparta_collapse        1
Sparta_endtime         1
all                    1
endCutSparta_sh        2
total                  5

Select jobs to execute...

[Wed Dec 13 02:29:22 2023]
rule endCutSparta_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutShuffleSpartaDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaStartTimeDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endMaskSpartaDone.txt, /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirSparta_1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.fa
    output: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.pred.sites.bed
    jobid: 14
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.pred.sites.bed
    wildcards: miRShuffled=anno.mir.tas.zero_.shuffled.fa_clean_revcomp
    threads: 48
    resources: tmpdir=/tmp


		#execution of miRferno from the sPARTA program
		python3 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/sPARTA/sPARTA.py -genomeFile /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/genome.fasta -annoType GFF -annoFile /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/annotation.gff -genomeFeature 0 -miRNAFile /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirSparta_1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.fa -tarPred H -tarScore S --map2DD

		awk 'NR > 1' predicted/All.targs.parsed.csv | awk -F "," '{print $2,$3,$1,$6}' | awk -F " " '{split($2,a,"-"); print $1,a[1],a[2],$3,$4}' | sort -k1,1 -k2,2n | awk -F ' ' -v OFS="	" '{split($4,a,"_shuffled"); print $1,$2,$3,a[1],$5}' > /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.pred.sites.bed

		
[Wed Dec 13 02:29:29 2023]
Finished job 14.
1 of 5 steps (20%) done
Select jobs to execute...

[Wed Dec 13 02:29:29 2023]
rule endCutSparta_sh:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutShuffleSpartaDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaStartTimeDone.txt, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endMaskSpartaDone.txt, /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirSparta_1/anno.mir.tas.1.shuffled.fa_clean_revcomp.fa
    output: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.fa_clean_revcomp.pred.sites.bed
    jobid: 15
    reason: Missing output files: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.fa_clean_revcomp.pred.sites.bed
    wildcards: miRShuffled=anno.mir.tas.1.shuffled.fa_clean_revcomp
    threads: 48
    resources: tmpdir=/tmp


		#execution of miRferno from the sPARTA program
		python3 /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/sPARTA/sPARTA.py -genomeFile /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/genome.fasta -annoType GFF -annoFile /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPARE/resources/annotation.gff -genomeFeature 0 -miRNAFile /share/quonlab/workspaces/tmathieu/meyersData/shuffleDirSparta_1/anno.mir.tas.1.shuffled.fa_clean_revcomp.fa -tarPred H -tarScore S --map2DD

		awk 'NR > 1' predicted/All.targs.parsed.csv | awk -F "," '{print $2,$3,$1,$6}' | awk -F " " '{split($2,a,"-"); print $1,a[1],a[2],$3,$4}' | sort -k1,1 -k2,2n | awk -F ' ' -v OFS="	" '{split($4,a,"_shuffled"); print $1,$2,$3,a[1],$5}' > /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.fa_clean_revcomp.pred.sites.bed

		
[Wed Dec 13 02:29:36 2023]
Finished job 15.
2 of 5 steps (40%) done
Select jobs to execute...

[Wed Dec 13 02:29:36 2023]
rule Sparta_collapse:
    input: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.fa_clean_revcomp.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaStartTimeDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaCollapseDone.txt
    jobid: 2
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.zero_.shuffled.fa_clean_revcomp.pred.sites.bed, /share/quonlab/workspaces/tmathieu/meyersData/transcript_bedgraph_capmasked_sparta1/anno.mir.tas.1.shuffled.fa_clean_revcomp.pred.sites.bed; Set of input files has changed since last execution
    resources: tmpdir=/tmp


		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaCollapseDone.txt
		
[Wed Dec 13 02:29:36 2023]
Finished job 2.
3 of 5 steps (60%) done
Select jobs to execute...

[Wed Dec 13 02:29:36 2023]
rule Sparta_endtime:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaCollapseDone.txt
    output: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaDone.txt
    jobid: 1
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaCollapseDone.txt; Code has changed since last execution
    resources: tmpdir=/tmp


		export et=`date +%s`
		echo "//////////ENDCUT_SPARTA_END_TIME_DONE ($et s)" >> /share/quonlab/workspaces/tmathieu/meyersData/runtimesparta_1.log
		echo 'nanoPARE_sPARTA complete!'
		echo DONE > /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaDone.txt
		
[Wed Dec 13 02:29:36 2023]
Finished job 1.
4 of 5 steps (80%) done
Select jobs to execute...

[Wed Dec 13 02:29:36 2023]
localrule all:
    input: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaDone.txt
    jobid: 0
    reason: Input files updated by another job: /share/quonlab/workspaces/tmathieu/meyers/nanoPAREUpdate/nanoPareVT1/endCutSpartaDone.txt
    resources: tmpdir=/tmp

[Wed Dec 13 02:29:36 2023]
Finished job 0.
5 of 5 steps (100%) done
Complete log: .snakemake/log/2023-12-13T022919.867450.snakemake.log
